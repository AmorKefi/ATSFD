<div class="card m-0 p-0 ">
  <div class=" card-header text-center   cyan darken-3 bg-light mb-3">
    <h4 class="mb-4 text-white">Ajouter Agent</h4>
  </div>

  <div class="card-body">

          <form [formGroup]="form" class="form-inline">
          <div class="form-group col-5">   
                      <div class="input-group">
                          <input type="text"  formControlName="ssoId"  class="form-control col-md-10"  placeholder="Login"/>
                          <small [hidden]="form.controls.ssoId.valid || (form.controls.ssoId.pristine && !submitted)">
                                  Login obligatoire*
                          </small>
                      </div>

          </div>

          <div class="form-group col-5 mb-2">
                      <div class="input-group">
                                
                          <input type="password" class="form-control  col-md-10"   placeholder="Mot de passe" formControlName="password"  />
                          <small [hidden]="form.controls.password.valid || (form.controls.password.pristine && !submitted)">
                                  Mot de passe obligatoire*
                              </small>
                      </div>
          </div>
          <div class="form-group col-5 mb-2">
                  
                  <div class="input-group">
                      
                          <input type="text" id="lastName" name="lastname" class="form-control   col-md-10"  placeholder="Nom" formControlName="lastName" />
                          <small [hidden]="form.controls.lastName.valid || (form.controls.lastName.pristine && !submitted)">
                                  Nom obligatoire* 
                          </small>
                      </div>
          </div>
          <div class="form-group col-5 ">
                  

                      <div class="input-group  ">
                         
                          <input type="text" id="firstName" name="firstname" class="form-control  col-md-10"  placeholder="Prénom" formControlName="firstName"  />
                          <small [hidden]="form.controls.firstName.valid || (form.controls.firstName.pristine && !submitted)">
                                  Prenom obligatoire* 
                          </small>
                      </div>

          </div>
          <div class="form-group col-5 mb-2">
            
                        
                          <input type="text" id="email" name="email" class="form-control  col-md-10" pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$" placeholder="Adresse email" formControlName="email" />
                          <small [hidden]="form.controls.email.valid || (form.controls.email.pristine && !submitted)">
                                  Email obligatoire*
                          </small>
                   
  
   
          </div>

                          
          <div class="form-group col-5 mb-2">
                          <select class="form-control col-5 mt-1 " formControlName="role"  (ngModelChange)="onChangeRole($event)" required> 
          
                                          <option [value]="">sélectionner un rôle </option>
                                           <option *ngFor="let _role of _roles" [value]="_role.roleId"> {{_role.roleName}} </option> 
                   </select>     
                 
            
<button class="btn blue darken-3 rounded col-5"  (click)="addUserRole()"><i class="fa fa-plus-circle" aria-hidden="true"></i> rôle</button>       
                 


                  </div> 

                  <div class="form-group col-5 mb-2">
                                <select class="form-control col-5 mt-1 " formControlName="pdv"  required> 
          
                                                <option [value]="">sélectionner un point de vente </option>
                                                 <option *ngFor="let pdv of pdvs" [value]="pdv.codePdv"> {{pdv.nomPdv}} </option> 
                         </select>          
        </div>
                  

      </form>
          <div class="row ">
                  <h4>Rôles :</h4>
          </div>
          <div class="row ">        
             
                  <ul>
                      <li class="btn btn-danger rounded" *ngFor="let role of this.user.roles">{{ role.roleName}}</li>
                  </ul>
        
          </div> 
              
      <!-- <mat-dialog-actions class="justify-content-center esapce">
           <button class="btn btn-outline-success my-2 my-sm-0" (click)="save(form.value, form.valid)">Enregister</button>
           <button class="btn btn-outline-danger my-2 my-sm-0" [mat-dialog-close]>Annuler</button>
      </mat-dialog-actions> -->
 


</div>
<div class="card-footer cyan darken-3 justify-content-center p-3">
                <div class="row justify-content-center">
                    <button type="submit"  class="btn blue darken-4 rounded col-3" mdbRippleRadius  [disabled]="!form.valid"(click)="save(form.value, form.valid)">Ajouter</button>
                    <button type="reset" class="btn btn-danger rounded col-3" [mat-dialog-close] >Annuler</button>
                  </div>
                </div>
</div>
