<app-header></app-header>
<div class="app-body">
    <app-sidebar></app-sidebar>
    <!-- Main content -->
    <main class="main">
        <!-- Breadcrumb -->
        <ol class="breadcrumb">
            <app-breadcrumbs></app-breadcrumbs>
        </ol>
        <div class="card">
            <div class="card-header  text-white bg-secondary mb-3">Liste des rôles</div>
            
      
            <div class="tools ">
                <div class="form-group float-right pt-2">
                        <button type="button" class="btn bg-info rounded" (click)="CreateRole()" data-target="#add-function-model" >
                          <span class="fa fa-plus"></span> Nouveau rôle</button>
                      </div>
 
        </div>
        <table class="table table-striped table-hover dt-responsive table-bordered" width="100%" data-toggle="table" data-search="true"
            data-filter-control="true" id="roles_table">
            <thead>
                <tr class="text-center">
                    <th class="font-weight-bold" hidden> ID</th>
                    <th class="font-weight-bold" data-sortable="true">Nom</th>
                    <th class="font-weight-bold" data-sortable="true">Description</th>
                    <th class="font-weight-bold">Fonctions</th>
                    <th class="hidden-md hidden-lg hidden-print font-weight-bold">Actions</th>
                </tr>
            </thead>
            <tbody>


                <tr class="text-center" *ngFor="let r of data">
                    <td class="hidden" hidden>{{r.roleId}}</td>
                    <td>{{r.roleName}}</td>
                    <td>{{r.description}}</td>
                    <td>
                        <ul>
                            <ol class="btn mdb-color col-5" *ngFor="let x  of r.roleFunctions" (click)="updateRoleFunction(x,r)">{{x.function.functionName}}</ol>
                        </ul>

                        <!-- <div *ngFor="let fn of r.roleFunctions">
                                                                                            <span class="label label-info">{{fn.function.functionName}}</span>
                                                                                            </div> -->
                    </td>

                    <td class="hidden-md  hidden-lg hidden-print">

                        <!-- <div class="btn-group  btn-group-xs"> -->
                        
                            <div class="btn-group" role="group">
                                <button type="button" class="btn btn-default" (click)="UpdateRole(r)"><i class="fa fa-pencil">
                                </i></button>
                                <button type="button" class="btn btn-info" (click)="AddRoleFunction(r)"><i class="fa fa-plus-circle">
                                    </i></button>
     
                                <button type="button" class="btn btn-danger"(click)="DeleteRole(r)"><i class="fa fa-close">
                                    </i></button>
                            </div>
                                
                      
                    </td>
                </tr>
            </tbody>
        </table>
    </div>



    </main>
    <app-aside></app-aside>
</div>
<app-footer></app-footer>